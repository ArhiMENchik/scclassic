package SpelCastGush

import Orders


function SpelCast()
    let u = GetAttacker()
    let aid = GetAttackedUnitBJ()
    let GP = aid.getTypeId()
    if GP == 'Hgam'
        if u.isType(UNIT_TYPE_MELEE_ATTACKER) and u.isType(UNIT_TYPE_STRUCTURE)
            // print("Stun!!!")
            aid.issueImmediateOrderById(OrderIds.stomp)
        if u.isType(UNIT_TYPE_RANGED_ATTACKER) and u.isType(UNIT_TYPE_STRUCTURE)
            // print("Wave!!!")
            aid.issueTargetOrderById(OrderIds.carrionswarm, u)


init
    let t = CreateTrigger()
    t.addCondition(Condition(function SpelCast))
    t.registerAnyUnitEvent(EVENT_PLAYER_UNIT_ATTACKED)
        